---
layout: post
title: 50ETF的波动率研究
category : invest
description: 因为在操作50ETF相关的期权，需要对标的物的历史波动率等进行一些研究。如何度量波动率以及预测其分布是期权交易成功的关键。但遗憾的是，它们并非是期权交易成功的充分条件。仅仅因为波动略便宜就买入，或者因为他们贵就卖出，这往往不会是一个好主意。因为东西便宜往往有其便宜的道理。我们所做的任何估计和预测都需要相应的基本面分析作为补充。例如，究竟什么因素会导致波动率上升？如果我们处于空头头寸，什么是我们不希望发生的？
tags : [量化交易]
---

因为在操作50ETF相关的期权，需要对标的物的历史波动率等进行一些研究。如何度量波动率以及预测其分布是期权交易成功的关键。但遗憾的是，它们并非是期权交易成功的充分条件。仅仅因为波动略便宜就买入，或者因为他们贵就卖出，这往往不会是一个好主意。因为东西便宜往往有其便宜的道理。我们所做的任何估计和预测都需要相应的基本面分析作为补充。例如，究竟什么因素会导致波动率上升？如果我们处于空头头寸，什么是我们不希望发生的？

市场相当复杂并且相互关联，所有度量和预测的方法都必须置于当前的交易环境中进行考量。

## 1. 历史波动率估计


### 1.1 常用的波动率估计方法

#### 波动率定义


$$ \sigma = \sqrt{\frac{1}{N} \sum_{i=1}^{N}(X_i - \bar{X})^2 } * \sqrt{240} $$

式中，$x_i$为对数收益率（度量波动率时通常都是使用对数收益率）:

$\bar{x}$为样本的平均收益率；  
$N$为样本规模。  
    
    
为了将方差以年化的形式表示，我们需要在原方差的基础上乘以年化因子，也就是这一年的交易周期——例如，我们使用日数据是，年化因子就是$\sqrt{240}$，因为这是一年的交易天数。

### 1.2 描述性统计

![](/assets/images/post/2016/14779097249964.jpg)


### 1.3 图形对比

今年以来的历史波动率：

![](/assets/images/post/2016/14779097445724.jpg)

2013年10月至今的历史波动率：  

![](/assets/images/post/2016/14779098091713.jpg)

波动率分布柱状图：

![](/assets/images/post/2016/14779098327579.jpg)

## 2. 波动率预测

###  2.1 EWMA法

$$ \sigma^2_n = \lambda \sigma^2_{n-1} + (1 - \lambda)\mu^2_{n-1}  $$

$\lambda$通常取0.9~0.99之间的数值。具体的取值，可以结合历史上的预测效果使用学习算法得出一个恰当的数值出来。

这种方法的有点是简单易用、便于理解，缺点则是不够灵敏，如果某一件事确实是一个异常事件，那么在预测未来波动率时，我们最好将它从数据集中剔除。EWMA法确实可以在波动率预测中平滑价格跳跃的影响，但是其处理方式过于简单。更好的方法是直接让交易员判断一个事件是不是异常时间，如果是的话就直接剔除掉，或者将其视作可能再次发生的特殊时间，并在预测时给予相应的权重。EWMA法假设时间的影响呈指数式递减，其实只是将这一问题简单回避掉了。

使用EWMA方法的另一个问题是它并没有考虑最近的波动率估计量所处的市场环境。无论是通过粗略的观察，还是统计分析都表明：波动率是一个均值回复的过程；高波动率后很可能会出现一段时间的低波动率，反之亦然。

### 2.2 GARCH法

* GARCH(1,1)    



 $$ \sigma^2_n = \omega + \alpha \mu^2_{n-1} + \beta \sigma^2_{n-1} $$
 
 $$ \omega = \gamma V_L $$
 
 $$ \gamma + \alpha + \beta = 1  $$ 
 
 $$ V_L = \frac{\omega}{1- \alpha - \beta} $$
 
 
 GARCH模型族，解决了上面所提到的未考虑波动率估计量所处的市场环境的问题。由于模型引入了预期回复的长期平均方差水平项，所以如果当前方差水平处于高位，我们会期待它在短期内维持高位，但最终还是会回归到正常水平。
 
 
 GARCH模型只能得到以指数形式收敛至长期均值的期限结构，但无法得到市场上常见的那种有风的波动率期限结构。比如，2个月期限的波动率比1个月和3个月期限的波动率都要高。这就说明GARCH模型并不适用于期权市场。
 
 
### 2.3 波动率锥

“波动率锥的用处是阐明在不同的交易区间内，波动率区间是如何变化的。”


今年以来的波动率锥：

![](/assets/images/post/2016/14779098896339.jpg)


2013年10月至今的波动率锥：

![](/assets/images/post/2016/14779099012974.jpg)


Notebook参见：https://github.com/onthedesk/research/blob/master/50etf.ipynb



